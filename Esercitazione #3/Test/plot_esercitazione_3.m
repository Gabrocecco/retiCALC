%%
%%Plot test blocchi
%size in potenze di 2.
size = [6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21];
mediaOttimizzata = [5815, 5788, 5867, 5900,5819,5902,6080,5758,5771,6041,5767,5868,5804,5896,5850,5807];
varianzaOttimizzata = [132222,1165152,1975230,2077535,1055266,2015847,3981922,485299,886462,4196972,471789,2606967,473838,1929703,1009839,878714];

mediaNonOttimizzata = [17203, 16824, 16958, 17316, 17175, 17103, 17069, 17268, 17244, 17111, 17001, 17316, 17279, 17160, 17304, 17144];
varianzaNonOttimizzata = [985215, 126139, 1666717, 2347555, 2989512, 2063676, 2333103, 4599986, 3930260, 2162528, 1723871, 4961691, 3509606, 2138319, 17304, 2147996];


plot(size, mediaOttimizzata, size, sqrt(varianza), size, mediaNonOttimizzata, size, sqrt(varianzaNonOttimizzata));
%%plot(size, media);
xlabel('Dimensione blocco in potenza di 2 (byte)') ;
ylabel('(us)') ;
legend('Tempo di trasferimento (ottimizzato)','Deviazione standard (ottimizzato)','Tempo di trasferimento (non ottimizzato)','Deviazione standard (non ottimizzato)' )
%%plot(size, varianza);


%%Plot test lunghezza media parole

sizeParole = 1:100;
%Media Ottimizzata
 avgOpt = [1468,2739,2456,2058,1996,1796,2068,1947,1716,1599,1418,1496,1535,1485,1273,1191,1270,1256,1110,1232,1229,1098,1278,1262,1250,1212,1175,1077,1103,1097,991,1202,1237,1013,1138,965,1159,1160,1102,1130,1135,948,981,1206,1111,1157,1005,1095,1008,1031,1190,1219,1079,1063,1242,1236,1015,1047,1143,1027,1041,1154,1165,1074,1363,1061,937,1180,1065,1416,1000,1065,1145,1223,1265,956,1282,1311,1481,975,1089,1039,1083,1141,909,1075,950,1242,1068,955,1244,979,1196,1200,1039,1172,1071,1027,1143,1034];
%Varianza Ottimizzata
 %varOpt = [116101,112779,815931,13066,113325,112257,225938,2015938,1069479,990109,107329,575754,25120,1083918,121429,110873,106301,125433,15309,113326,106355,94730,101557,454068,2239853,105647,14207,15487,112534,118618,11743,145426,139125,168939,146819,3513,258057,108896,14027,105014,39542,15450,17355,277950,188367,473320,190579,110320,54714,109332,451996,2051456,121473,209481,1523594,746068,46552,118139,190609,20079,225280,1059639,593436,112556,1465749,100862,107855,1134371,265423,1866309,42458,152338,46938,1568988,961637,180611,1622444,295523,2899590,141351,149423,157478,116877,125279,13067,218583,743,260670,254968,111595,2493813,39951,3619084,1182544,192953,1173611,118666,160847,1050641,215571];
%Media Non Ottimizzata
 avgSub = [2236,4316,4092,3886,3690,3474,3670,3915,3448,3138,3176,2998,3004,2905,2850,2826,2796,3084,2771,2725,2701,2676,2756,2780,2654,2635,2625,2743,2628,2700,2706,2581,2684,2682,2570,2662,2756,2553,2655,2635,2663,2565,2550,2571,2475,2479,2469,2558,2664,2560,2462,2607,2545,2919,2536,2444,2650,2597,2619,2507,2442,2589,2565,2784,2653,2593,2470,2823,2517,2627,2532,2564,2522,2746,2743,2634,2676,2574,2818,2504,2460,2472,2432,2434,2400,2390,2560,3177,2424,2486,2389,2421,2389,2381,2422,2382,2439,2463,2413,2437];
%Varianza Non Ottimizzata
 %varSub = [15549,4846,2735,2360,174275,4740,1523503,444242,1204461,11299,974001,2965,156741,3544,2221,3475,3134,3047745,17617,3877,2765,1718,615212,1390086,5509,2339,13357,1894656,156697,1629937,1898380,90253,1884409,1889927,99217,1660056,1889442,91597,1911706,1639792,1364441,346670,346702,610345,1579,2470,1823,768894,1735915,959985,2270,48894,28274,1824655,196927,2167,443110,507046,2476697,533040,5737,2432589,195714,3098071,724402,483617,198543,1782595,160905,1875400,933656,290548,1004042,3819962,1447623,153671,849379,65913,644311,958138,242337,482303,14004,15886,3735,2540,61267,544856,90218,791794,3418,89010,2551,2031,90829,2025,354905,784409,94488,354688];

arrayDifferenza = avgSub - avgOpt;
maxDifferenza = max(arrayDifferenza)
 
plot(sizeParole, avgOpt, sizeParole, avgSub);
xlabel('Dimensione parola media (caratteri)') ;
ylabel('(us)') ;
legend('Tempo di trasferimento (ottimizzato)','Tempo di trasferimento (non ottimizzato)')

